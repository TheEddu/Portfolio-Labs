<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Relatório de Lab - Mr. Robot CTF</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-[#0D1121] via-[#1a2238] to-[#283655] text-white font-sans min-h-screen relative">
  <!-- Background image decorative -->
  <div class="pointer-events-none fixed inset-0 z-0 flex justify-center items-center">
    <img src="https://image.lexica.art/full_webp/6957307a-3542-4118-ae89-54a02851ef3d" alt="background" class="opacity-30 w-full h-auto hidden md:block" />
  </div>
  <div class="relative z-10 max-w-5xl mx-auto py-12 px-2 md:px-10">
    <!-- Cabeçalho -->
    <header class="mb-10">
      <div class="bg-gradient-to-r from-blue-900 to-blue-600 rounded-xl shadow-lg p-8 flex flex-col items-center relative">
        <h1 class="text-4xl md:text-5xl font-extrabold uppercase tracking-widest text-white drop-shadow-lg mb-2">Mr. Robot CTF</h1>
        <p class="text-green-100 text-lg">Relatório de Lab <a href="https://tryhackme.com/room/mrrobot" class="text-green-600 hover:underline" target="_blank">Mr. Robot CTF</a></p>
        <p class="mt-2 text-sm text-green-50">Data: <span class="font-semibold">Maio de 2025</span></p>
        <div class="center mt-6">
          <a href="../index.html" class="inline-block bg-gradient-to-r from-green-500 to-green-400 text-white font-bold py-2 px-6 rounded-lg shadow hover:from-green-600 hover:to-green-500 transition text-base">← Voltar aos Labs</a>
        </div>
      </div>
    </header>
    <!-- Sumário -->
    <nav class="mb-12">
      <div class="bg-white rounded-xl shadow border border-blue-100 overflow-hidden">
        <div class="flex items-center bg-gradient-to-r from-blue-900 to-blue-700 px-10 py-6">
          <svg class="w-8 h-8 text-blue-300 mr-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M4 6h16M4 12h16M4 18h16"></path></svg>
          <h2 class="text-3xl font-bold text-white tracking-wide">Sumário</h2>
        </div>
        <ul class="divide-y divide-blue-100">
          <li>
            <a href="#introducao" class="flex items-center px-10 py-4 group hover:bg-blue-50 transition">
              <span class="w-3 h-3 rounded-full bg-blue-500 mr-4 group-hover:bg-blue-700 transition"></span>
              <span class="text-blue-900 text-lg font-medium group-hover:text-blue-700 transition">Introdução</span>
            </a>
          </li>
          <li>
            <a href="#cenario" class="flex items-center px-10 py-4 group hover:bg-blue-50 transition">
              <span class="w-3 h-3 rounded-full bg-blue-500 mr-4 group-hover:bg-blue-700 transition"></span>
              <span class="text-blue-900 text-lg font-medium group-hover:text-blue-700 transition">Cenário do Lab</span>
            </a>
          </li>
          <li>
            <a href="#reconhecimento" class="flex items-center px-10 py-4 group hover:bg-blue-50 transition">
              <span class="w-3 h-3 rounded-full bg-blue-500 mr-4 group-hover:bg-blue-700 transition"></span>
              <span class="text-blue-900 text-lg font-medium group-hover:text-blue-700 transition">Reconhecimento Inicial</span>
            </a>
          </li>
          <li>
            <a href="#gobuster" class="flex items-center px-10 py-4 group hover:bg-blue-50 transition">
              <span class="w-3 h-3 rounded-full bg-blue-500 mr-4 group-hover:bg-blue-700 transition"></span>
              <span class="text-blue-900 text-lg font-medium group-hover:text-blue-700 transition">Enumeração com Gobuster</span>
            </a>
          </li>
          <li>
            <a href="#informacoes" class="flex items-center px-10 py-4 group hover:bg-blue-50 transition">
              <span class="w-3 h-3 rounded-full bg-blue-500 mr-4 group-hover:bg-blue-700 transition"></span>
              <span class="text-blue-900 text-lg font-medium group-hover:text-blue-700 transition">Informações Escondidas</span>
            </a>
          </li>
          <li>
            <a href="#execucao" class="flex items-center px-10 py-4 group hover:bg-blue-50 transition">
              <span class="w-3 h-3 rounded-full bg-blue-500 mr-4 group-hover:bg-blue-700 transition"></span>
              <span class="text-blue-900 text-lg font-medium group-hover:text-blue-700 transition">Execução de Código via Template do WordPress</span>
            </a>
          </li>
          <li>
            <a href="#escalonamento" class="flex items-center px-10 py-4 group hover:bg-blue-50 transition">
              <span class="w-3 h-3 rounded-full bg-blue-500 mr-4 group-hover:bg-blue-700 transition"></span>
              <span class="text-blue-900 text-lg font-medium group-hover:text-blue-700 transition">Escalonamento de Privilégios</span>
            </a>
          </li>
          <li>
            <a href="#conclusao" class="flex items-center px-10 py-4 group hover:bg-blue-50 transition">
              <span class="w-3 h-3 rounded-full bg-blue-500 mr-4 group-hover:bg-blue-700 transition"></span>
              <span class="text-blue-900 text-lg font-medium group-hover:text-blue-700 transition">Conclusão e Aprendizados</span>
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Seção: Introdução -->
    <section class="mb-12" id="introducao">
      <div class="bg-white rounded-xl shadow-lg p-8 mb-8 border-l-4 border-blue-700">
        <h2 class="text-3xl font-bold text-blue-900 mb-5 flex items-center gap-2">
          <svg class="w-7 h-7 text-blue-700" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 4v16m8-8H4"></path></svg>
          Introdução ao Lab Mr. Robot CTF (TryHackMe)
        </h2>
        <p class="text-gray-800 mb-4 text-lg">
          O lab <strong>Mr. Robot CTF</strong> simula um ambiente inspirado na famosa série, com foco em exploração de vulnerabilidades em uma instalação WordPress mal configurada. O objetivo principal é obter acesso root à máquina, capturando três flags.
        </p>
        <p class="text-gray-800 mb-4 text-lg">
          Este lab é ideal para praticar técnicas de pentest em cenários realistas, incluindo enumeração de serviços, brute-forcing de credenciais, exploração de vulnerabilidades web e escalonamento de privilégios em sistemas Linux.
        </p>
      </div>
    </section>

    <!-- Cenário do Lab -->
    <section class="mb-12" id="cenario">
      <div class="bg-white rounded-xl shadow-lg p-8 mb-8 border-l-4 border-blue-700">
        <h2 class="text-3xl font-bold text-blue-900 mb-5 flex items-center gap-2">
          <svg class="w-7 h-7 text-blue-700" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 4v16m8-8H4"></path></svg>
          Cenário do Lab
        </h2>
        <ul class="list-disc pl-6 text-gray-800 text-lg space-y-2">
          <li>Ambiente Linux rodando WordPress vulnerável.</li>
          <li>Exploração de arquivos e diretórios ocultos.</li>
          <li>Escalada de privilégios via SUID e binários do sistema.</li>
          <li>Coleta de flags do usuário e do root.</li>
        </ul>
      </div>
    </section>

    <!-- Seção: Reconhecimento Inicial -->
    <section class="mb-12" id="reconhecimento">
      <div class="bg-white rounded-xl shadow-lg p-8 mb-8 border-l-4 border-blue-700">
        <h2 class="text-2xl font-bold text-blue-900 mb-5">Reconhecimento Inicial</h2>
        <p class="text-gray-800 mb-4 text-lg">
          Assim que iniciamos o laboratório, realizamos um reconhecimento inicial com o <span class="font-mono bg-gray-100 px-1 rounded">nmap</span>, ferramenta clássica para descoberta de hosts e serviços:
        </p>
        <pre class="bg-gray-200 text-gray-800 p-3 rounded-md overflow-x-auto text-sm mb-4">nmap -sV -sC MACHINE_IP</pre>
        <ul class="list-disc pl-6 text-gray-800 text-lg mb-4">
          <li><span class="font-mono bg-gray-100 px-1 rounded">sV</span>: Detecta versões dos serviços</li>
          <li><span class="font-mono bg-gray-100 px-1 rounded">sC</span>: Executa scripts padrão (equivalente a um scan básico com scripts de enumeração)</li>
        </ul>
        <p class="text-gray-800 mb-4 text-lg">
          Identificamos as portas abertas:
        </p>
        <ul class="list-disc pl-6 text-gray-800 text-lg mb-4">
          <li><strong>22</strong> (SSH)</li>
          <li><strong>80</strong> (HTTP)</li>
          <li><strong>443</strong> (HTTPS)</li>
        </ul>
        <img src="../images/images-mrRobot/image.png" alt="Nmap scan" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
        <p class="text-gray-800 mb-4 text-lg">
          Ao acessar o IP no navegador, encontramos a tela “Hello Friend”, típica da série, com um aviso:
        </p>
        <img src="../images/images-mrRobot/image 1.png" alt="Hello Friend" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
        <p class="text-gray-800 mb-4 text-lg">
          Como boa prática, verificamos o arquivo <span class="font-mono bg-gray-100 px-1 rounded">robots.txt</span>, que revelou dois caminhos interessantes:
        </p>
        <ul class="list-disc pl-6 text-gray-800 text-lg mb-4">
          <li>Um arquivo <span class="font-mono bg-gray-100 px-1 rounded">.txt</span> com a primeira flag</li>
          <li>Uma wordlist chamada <span class="font-mono bg-gray-100 px-1 rounded">fsocity.dic</span></li>
        </ul>
        <img src="../images/images-mrRobot/image 2.png" alt="robots.txt" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
        <p class="text-gray-800 mb-4 text-lg">
          Ao acessar diretamente o arquivo indicado, encontramos a <strong>primeira flag</strong>:
        </p>
        <img src="../images/images-mrRobot/image 3.png" alt="Primeira flag" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
        <p class="text-gray-800 mb-4 text-lg">
          O outro item do robots é uma wordlist chamada <span class="font-mono bg-gray-100 px-1 rounded">fsocity.dic</span>.
        </p>
        <img src="../images/images-mrRobot/image 4.png" alt="fsocity.dic" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
      </div>
    </section>

    <!-- Seção: Enumeração com Gobuster -->
    <section class="mb-12" id="gobuster">
      <div class="bg-white rounded-xl shadow-lg p-8 mb-8 border-l-4 border-blue-700">
        <h2 class="text-2xl font-bold text-blue-900 mb-5">Enumeração com Gobuster</h2>
        <p class="text-gray-800 mb-4 text-lg">
          Agora podemos usar a ferramenta <span class="font-mono bg-gray-100 px-1 rounded">gobuster</span> para descobrir diretórios escondidos no servidor web:
        </p>
        <pre class="bg-gray-200 text-gray-800 p-3 rounded-md overflow-x-auto text-sm mb-4">gobuster dir -u http://MACHINE_IP -w /usr/share/wordlists/dirbuster/directory-list-2.3-small.txt -t 100</pre>
        <ul class="list-disc pl-6 text-gray-800 text-lg mb-4">
          <li><span class="font-mono bg-gray-100 px-1 rounded">u</span>: URL alvo</li>
          <li><span class="font-mono bg-gray-100 px-1 rounded">w</span>: Wordlist utilizada</li>
          <li><span class="font-mono bg-gray-100 px-1 rounded">t</span>: Número de threads</li>
        </ul>
        <img src="../images/images-mrRobot/image 5.png" alt="Gobuster resultado" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
        <p class="text-gray-800 mb-4 text-lg">
          <span class="font-mono bg-gray-100 px-1 rounded">wp-login</span> está com status 200, podemos abrir e acessar uma tela de login do wordpress.
        </p>
        <img src="../images/images-mrRobot/image 6.png" alt="wp-login" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
        <p class="text-gray-800 mb-4 text-lg">
          Além disso, também encontramos <span class="font-mono bg-gray-100 px-1 rounded">/license</span> e <span class="font-mono bg-gray-100 px-1 rounded">/readme</span>
        </p>
        <img src="../images/images-mrRobot/image 7.png" alt="license" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
        <img src="../images/images-mrRobot/image 8.png" alt="readme" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
      </div>
    </section>

    <!-- Seção: Informações Escondidas -->
    <section class="mb-12" id="informacoes">
      <div class="bg-white rounded-xl shadow-lg p-8 mb-8 border-l-4 border-blue-700">
        <h2 class="text-2xl font-bold text-blue-900 mb-5">Informações Escondidas</h2>
        <p class="text-gray-800 mb-4 text-lg">
          Analisando o arquivo <span class="font-mono bg-gray-100 px-1 rounded">/license</span>, descendo um pouco, encontramos um valor em base64:
        </p>
        <img src="../images/images-mrRobot/image 9.png" alt="base64 license" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
        <p class="text-gray-800 mb-4 text-lg">
          Com <span class="font-mono bg-gray-100 px-1 rounded">echo hash | base64 -d</span> descobrimos usuário e senha.
        </p>
        <img src="../images/images-mrRobot/image 10.png" alt="base64 decode" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
      </div>
    </section>

    <!-- Seção: Execução de Código via Template do WordPress -->
    <section class="mb-12" id="execucao">
      <div class="bg-white rounded-xl shadow-lg p-8 mb-8 border-l-4 border-blue-700">
        <h2 class="text-2xl font-bold text-blue-900 mb-5">Execução de Código via Template do WordPress</h2>
        <p class="text-gray-800 mb-4 text-lg">
          Conseguimos fazer login no Wordpress.
        </p>
        <img src="../images/images-mrRobot/image 11.png" alt="Login Wordpress" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
        <p class="text-gray-800 mb-4 text-lg">
          Acessando o painel WordPress, editamos o tema <span class="font-mono bg-gray-100 px-1 rounded">twentyfifteen</span> e injetamos um payload de <strong>RCE (Remote Code Execution)</strong> no arquivo <span class="font-mono bg-gray-100 px-1 rounded">archive.php</span>.
        </p>
        <img src="../images/images-mrRobot/image 12.png" alt="Editando tema" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
        <p class="text-gray-800 mb-4 text-lg">
          É preciso manter um <span class="font-mono bg-gray-100 px-1 rounded">nc -lvnp 4545</span> ativo, escolhi a porta por preferência.
        </p>
        <img src="../images/images-mrRobot/image 13.png" alt="nc listening" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
        <ul class="list-disc pl-6 text-gray-800 text-lg mb-4">
          <li><span class="font-mono bg-gray-100 px-1 rounded">l</span>: escuta conexões</li>
          <li><span class="font-mono bg-gray-100 px-1 rounded">vnp</span>: modo verbose, não resolve DNS, porta especificada</li>
        </ul>
        <p class="text-gray-800 mb-4 text-lg">
          Acessamos a URL do template (<span class="font-mono bg-gray-100 px-1 rounded">http://MACHINE_IP/wp-content/themes/twentyfifteen/archive.php</span>) modificado e ganhamos <strong>acesso reverso à máquina</strong>:
        </p>
        <img src="../images/images-mrRobot/image 14.png" alt="Shell reverso" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
        <p class="text-gray-800 mb-4 text-lg">
          Usando <span class="font-mono bg-gray-100 px-1 rounded">ls</span> podemos ver o arquivo da flag, mas sem permissão pra ler. Mas tem outro arquivo <span class="font-mono bg-gray-100 px-1 rounded">password.raw-md5</span> esse com permissão para ler.
        </p>
        <img src="../images/images-mrRobot/image 15.png" alt="password.raw-md5" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
        <p class="text-gray-800 mb-4 text-lg">
          Com esse hash, usei o hashes.com para decode.
        </p>
        <img src="../images/images-mrRobot/image 16.png" alt="hashes.com" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
        <p class="text-gray-800 mb-4 text-lg">
          Mas não podemos usar <span class="font-mono bg-gray-100 px-1 rounded">su robot</span> ainda, para resolver isso, podemos usar uma técnica para elevar o shell.
        </p>
        <pre class="bg-gray-200 text-gray-800 p-3 rounded-md overflow-x-auto text-sm mb-4">python -c 'import pty;pty.spawn("/bin/bash")'</pre>
        <p class="text-gray-800 mb-4 text-lg">
          Com isso, podemos usar <span class="font-mono bg-gray-100 px-1 rounded">su robot</span> com a senha decodificada e conseguimos o acesso ao usuário <strong>robot</strong>. E agora podemos ler o txt da key.
        </p>
        <img src="../images/images-mrRobot/image 17.png" alt="Flag robot" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
      </div>
    </section>

    <!-- Seção: Escalonamento de Privilégios -->
    <section class="mb-12" id="escalonamento">
      <div class="bg-white rounded-xl shadow-lg p-8 mb-8 border-l-4 border-blue-700">
        <h2 class="text-2xl font-bold text-blue-900 mb-5">Escalonamento de Privilégios</h2>
        <p class="text-gray-800 mb-4 text-lg">
          Para buscar por arquivos com permissão SUID (úteis para escalada de privilégio), utilizamos:
        </p>
        <pre class="bg-gray-200 text-gray-800 p-3 rounded-md overflow-x-auto text-sm mb-4">find / -perm -u=s -type f 2>/dev/null</pre>
        <p class="text-gray-800 mb-4 text-lg">
          Um dos resultados interessantes foi o binário do <span class="font-mono bg-gray-100 px-1 rounded">nmap</span>:
        </p>
        <img src="../images/images-mrRobot/image 18.png" alt="nmap suid" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
        <p class="text-gray-800 mb-4 text-lg">
          Entramos em modo interativo com:
        </p>
        <pre class="bg-gray-200 text-gray-800 p-3 rounded-md overflow-x-auto text-sm mb-4">/usr/local/bin/nmap --interactive</pre>
        <p class="text-gray-800 mb-4 text-lg">
          E executamos um shell, e podemos acessar a key:
        </p>
        <pre class="bg-gray-200 text-gray-800 p-3 rounded-md overflow-x-auto text-sm mb-4">
!sh
ls
cd root
cat key.txt
        </pre>
        <img src="../images/images-mrRobot/image 19.png" alt="root key" class="rounded-xl border border-blue-200 shadow w-full max-w-3xl mx-auto mb-6">
      </div>
    </section>

    <!-- Seção: Conclusão e Aprendizados -->
    <div class="bg-white rounded-xl shadow-lg p-8 mb-8 border-l-4 border-blue-700" id="conclusao">
      <h2 class="text-3xl font-bold text-blue-900 mb-5 flex items-center gap-2">
        <svg class="w-7 h-7 text-blue-700" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 4v16m8-8H4"></path></svg>
        Conclusão e Aprendizados
      </h2>
      <ul class="list-disc pl-6 space-y-2 text-lg">
        <li class="text-gray-800">A importância da enumeração ficou clara desde os primeiros passos.</li>
        <li class="text-gray-800">Técnicas simples, como verificar o <span class="font-mono bg-gray-100 px-1 rounded">robots.txt</span>, podem revelar informações cruciais.</li>
        <li class="text-gray-800">Explorar falhas em plugins ou temas WordPress é uma prática comum em pentests.</li>
        <li class="text-gray-800">A escalada de privilégios através de SUID e ferramentas como <span class="font-mono bg-gray-100 px-1 rounded">nmap</span> destaca como binários mal configurados podem ser explorados.</li>
        <li class="text-gray-800">Sempre explorar cada caminho identificado, por menor que pareça.</li>
        <li class="text-gray-800">Ter boas wordlists e utilizar ferramentas como Gobuster para fuzzing.</li>
        <li class="text-gray-800">Entender como um shell reverso funciona e como melhorá-lo com Python.</li>
        <li class="text-gray-800">Ferramentas de cracking online são úteis para agilizar processos.</li>
        <li class="text-gray-800">Conhecer comandos Linux e suas permissões é fundamental para escalar privilégios.</li>
      </ul>
    </div>

    <!-- Botão de Voltar -->
    <div class="text-center mt-12">
      <a href="../index.html" class="inline-block bg-gradient-to-r from-green-500 to-green-400 text-white font-bold py-3 px-8 rounded-lg shadow hover:from-green-600 hover:to-green-500 transition text-lg">← Voltar aos Labs</a>
    </div>
  </div>
</body>
</html>
